<!DOCTYPE html>
{% load static %}
<html lang="en">
  <head>
    <title>Manten UDEC</title>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <link rel="apple-touch-icon" href='{% static "imagenes/logo.png" %}' />

    <link
      rel="shortcut icon"
      type="image/x-icon"
      href='{% static "imagenes/logo.png" %}'
    />
    <link rel="stylesheet" href='{% static "css/bootstrap.min.css" %}' />
    <link rel="stylesheet" href='{% static "css/templatemo.css" %}' />
    <link rel="stylesheet" href='{% static "css/custom.css" %}' />

    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;200;300;400;500;700;900&display=swap"
    />
    <link rel="stylesheet" href='{% static "css/fontawesome.min.css" %}' />

    <style>
      .table-responsive {
        max-width: 100%;
      }
      .table th,
      .table td {
        color: #000000; /* Color del texto */
      }
      .table td.correo {
        max-width: 150px; /* Ancho máximo de la celda de correo */
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
      }
      .btn-editar,
      .btn-eliminar {
        margin-right: 5px;
      }
    </style>
  </head>
  <body>
    <nav
      class="navbar navbar-expand-lg bg-dark navbar-light d-none d-lg-block"
      id="templatemo_nav_top"
    >
      <div class="container text-light">
        <div class="w-100 d-flex justify-content-between">
          <div>
            <i class="fa fa-envelope mx-2"></i>
            <a
              class="navbar-sm-brand text-light text-decoration-none"
              href="mailto:info@company.com"
              >xxnetproshop@gmail.com</a
            >
            <i class="fa fa-phone mx-2"></i>
            <a
              class="navbar-sm-brand text-light text-decoration-none"
              href="tel:010-020-0340"
              >3227007466</a
            >
          </div>
          <div>
            <a class="text-light" href="" target="_blank" rel="sponsored"
              ><i class="fab fa-facebook-f fa-sm fa-fw me-2"></i
            ></a>
            <a class="text-light" href="" target="_blank"
              ><i class="fab fa-instagram fa-sm fa-fw me-2"></i
            ></a>
            <a class="text-light" href="" target="_blank"
              ><i class="fab fa-twitter fa-sm fa-fw me-2"></i
            ></a>
            <a class="text-light" href="" target="_blank"
              ><i class="fab fa-linkedin fa-sm fa-fw"></i
            ></a>
          </div>
        </div>
      </div>
    </nav>
    <nav class="navbar navbar-expand-lg navbar-light shadow">
      <div class="container d-flex justify-content-between align-items-center">
        <a
          class="navbar-brand text-success logo h1 align-self-center"
          href="/gerente"
        >
          Manten UDEC
        </a>
      </div>
    </nav>

    <div class="container" style="margin-top: 2%">
      <div class="row">
        <div class="col">
          <h1 class="text-center mb-4">Lista de Usuarios</h1>
          <div class="table-responsive">
            <table class="table table-bordered table-striped">
              <thead class="thead-dark">
                <tr>
                  <th scope="col">Número de Documento</th>
                  <th scope="col">Nombre</th>
                  <th scope="col">Teléfono</th>
                  <th scope="col" class="correo">Correo</th>
                  <th scope="col">Código Postal</th>
                  <th scope="col">Dirección</th>
                  <th scope="col">Municipio</th>
                  <th scope="col">Departamento</th>
                  <th scope="col">Rol</th>
                </tr>
              </thead>
              <tbody>
                {% for usuario in usuarios %}
                <tr>
                  <td>{{ usuario.NumeroDocumento }}</td>
                  <td>{{ usuario.Nombre }}</td>
                  <td>{{ usuario.Telefono }}</td>
                  <td class="correo">{{ usuario.Correo }}</td>
                  <td>{{ usuario.CodigoPostal }}</td>
                  <td>{{ usuario.Direccion }}</td>
                  <td>{{ usuario.Municipio }}</td>
                  <td>{{ usuario.Departamento }}</td>
                  <td>{{ usuario.idRol.Nombre }}</td>
                </tr>
                {% endfor %}
              </tbody>
            </table>
          </div>
        </div>
      </div>
      <div class="row">
        <div class="col text-center">
          <button
            class="btn btn-primary btn-editar"
            onclick="solicitarNumeroDocumento('editar')"
          >
            Editar
          </button>
          <button
            class="btn btn-danger btn-eliminar"
            onclick="solicitarNumeroDocumento('eliminar')"
          >
            Eliminar
          </button>
        </div>
        <p></p>
      </div>
    </div>
    <footer class="bg-dark" id="tempaltemo_footer">
      <div class="container">
        <div class="row">
          <div class="col-md-4 pt-5">
            <h2 class="h2 text-success border-bottom pb-3 border-light logo">
              Manten UDEC
            </h2>
            <ul class="list-unstyled text-light footer-link-list">
              <li>
                <i class="fas fa-map-marker-alt fa-fw"></i>
                sin punto fisico
              </li>
              <li>
                <i class="fa fa-phone fa-fw"></i>
                <a class="text-decoration-none" href="tel:010-020-0340"
                  >3227007466</a
                >
              </li>
              <li>
                <i class="fa fa-envelope fa-fw"></i>
                <a class="text-decoration-none" href="mailto:info@company.com"
                  >xxnetproshop@gmail.com</a
                >
              </li>
            </ul>
          </div>

          <div class="col-md-4 pt-5">
            <h2 class="h2 text-light border-bottom pb-3 border-light">
              Productos
            </h2>
            <ul class="list-unstyled text-light footer-link-list">
              <li><a class="text-decoration-none" href="#">pendiente</a></li>
              <li><a class="text-decoration-none" href="#">pendiente</a></li>
              <li><a class="text-decoration-none" href="#">pendiente</a></li>
              <li>
                <a class="text-decoration-none" href="#">pendiente</a>
              </li>
              <li>
                <a class="text-decoration-none" href="#">pendiente</a>
              </li>
            </ul>
          </div>

          <div class="col-md-4 pt-5">
            <h2 class="h2 text-light border-bottom pb-3 border-light">
              Otros Servicios
            </h2>
            <ul class="list-unstyled text-light footer-link-list">
              <li><a class="text-decoration-none" href="#">Home</a></li>
              <li>
                <a class="text-decoration-none" href="#">Acerca de Nosotros</a>
              </li>
              <li><a class="text-decoration-none" href="#">Contactanos</a></li>
            </ul>
          </div>
        </div>

        <div class="row text-light mb-4">
          <div class="col-12 mb-3">
            <div class="w-100 my-3 border-top border-light"></div>
          </div>
          <div class="col-auto me-auto">
            <ul class="list-inline text-left footer-icons">
              <li
                class="list-inline-item border border-light rounded-circle text-center"
              >
                <a
                  class="text-light text-decoration-none"
                  target="_blank"
                  href="http://facebook.com/"
                  ><i class="fab fa-facebook-f fa-lg fa-fw"></i
                ></a>
              </li>
              <li
                class="list-inline-item border border-light rounded-circle text-center"
              >
                <a
                  class="text-light text-decoration-none"
                  target="_blank"
                  href="https://www.instagram.com/"
                  ><i class="fab fa-instagram fa-lg fa-fw"></i
                ></a>
              </li>
              <li
                class="list-inline-item border border-light rounded-circle text-center"
              >
                <a
                  class="text-light text-decoration-none"
                  target="_blank"
                  href="https://twitter.com/"
                  ><i class="fab fa-twitter fa-lg fa-fw"></i
                ></a>
              </li>
              <li
                class="list-inline-item border border-light rounded-circle text-center"
              >
                <a
                  class="text-light text-decoration-none"
                  target="_blank"
                  href="https://www.linkedin.com/"
                  ><i class="fab fa-linkedin fa-lg fa-fw"></i
                ></a>
              </li>
            </ul>
          </div>
        </div>
      </div>

      <div class="w-100 bg-black py-3">
        <div class="container">
          <div class="row pt-2">
            <div class="col-12">
              <p class="text-left text-light">
                Copyright &copy; 2024 Net Pro Shop | Designed by Duvan Sarmiento
              </p>
            </div>
          </div>
        </div>
      </div>
    </footer>

    <script src='{% static "js/jquery-1.11.0.min.js" %}'></script>
    <script src='{% static "js/jquery-migrate-1.2.1.min.js" %}'></script>
    <script src='{% static "js/bootstrap.bundle.min.js" %}'></script>
    <script src='{% static "js/templatemo.js" %}'></script>
    <script src='{% static "js/custom.js" %}'></script>
    <script>
      function solicitarNumeroDocumento(accion) {
        const numeroDocumento = prompt(
          "Por favor, introduce el número de documento del usuario:"
        );
        if (numeroDocumento) {
          if (accion === "editar") {
            editarUsuario(numeroDocumento);
          } else if (accion === "eliminar") {
            confirmarEliminacion(numeroDocumento);
          }
        }
      }

      function confirmarEliminacion(numeroDocumento) {
        if (
          confirm(
            "¿Estás seguro de que deseas eliminar el usuario con documento " +
              numeroDocumento +
              "?"
          )
        ) {
          const form = document.createElement("form");
          form.method = "post";
          form.action = "/eliminar_usuario/";
          const csrfToken = "{{ csrf_token }}";
          const inputCsrf = document.createElement("input");
          inputCsrf.type = "hidden";
          inputCsrf.name = "csrfmiddlewaretoken";
          inputCsrf.value = csrfToken;
          form.appendChild(inputCsrf);
          const inputNumeroDocumento = document.createElement("input");
          inputNumeroDocumento.type = "hidden";
          inputNumeroDocumento.name = "numero_documento";
          inputNumeroDocumento.value = numeroDocumento;
          form.appendChild(inputNumeroDocumento);
          document.body.appendChild(form);
          form.submit();
        }
      }

      function editarUsuario(numeroDocumento) {
        const url = "/editar_usuario/" + numeroDocumento;
        window.location.href = url;
      }
    </script>
  </body>
</html>
